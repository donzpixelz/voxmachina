function toggleStyle(jquery_element,style_property){var _style_regex=new RegExp(style_property,'i')
if(typeof(jquery_element.attr("style"))==="undefined"){jquery_element.attr("style",style_property)}else if(!_style_regex.test(jquery_element.attr("style"))){var _new_style=jquery_element.attr("style")+" "+style_property
jquery_element.attr("style",_new_style);}else{var _new_style=jquery_element.attr("style").replace(style_property,"")
if(_new_style){jquery_element.attr("style",_new_style)}else{jquery_element.removeAttr("style")};};}
function unpackKwargs(kwargs_input,kwargs_model,method_name){for(var key in kwargs_model){var console_message='error unpacking '+method_name+': '
try{if(key in kwargs_input){if(typeof(kwargs_input[key])===typeof(kwargs_model[key])){if(kwargs_model[key]&&!kwargs_input[key]){if(typeof(kwargs_input[key])!='boolean'){console_message+=key+' cannot be empty.'
console.log(console_message)}}else{kwargs_model[key]=kwargs_input[key]};}else{console_message+=key+' must be a '+typeof(kwargs_model[key])+'.'
console.log(console_message)};};}catch(e){console_message+=key+' failed to unpack.'
console.log(console_message);};};}
function logConsole(console_kwargs){input_schema={'schema':{'message':"I am a lollipop."}}
console_dict=input_schema.schema
unpackKwargs(console_kwargs,console_dict,'logConsole')
console.log(console_dict.message)}
function responsiveDialog(dialog_kwargs){input_schema={'schema':{'dialog_title':'Mission','dialog_content':'<blockquote class="blockquote-reverse"><p>To make accessible to each individual the resources of the world</p><footer>Collective Acuity</footer></blockquote>'}}
dialog_dict=input_schema.schema
unpackKwargs(dialog_kwargs,dialog_dict,'responsiveDialog')
var backdrop_dialog_id='#dialog_backdrop'
var desktop_dialog_id='#dialog_middle_center'
var desktop_dialog_title_id='#dialog_middle_center_header_title'
var desktop_dialog_content_id='#dialog_middle_center_content_container'
var desktop_dialog_links='#dialog_middle_center [href="javascript:void(0)"]'
var mobile_dialog_id='#dialog_full_page'
var mobile_dialog_title_id='#dialog_full_page_header_title'
var mobile_dialog_content_id='#dialog_full_page_content_container'
var mobile_dialog_links='#dialog_full_page [href="javascript:void(0)"]'
var desktop_dialog_html='\
        <div id="dialog_middle_center" class="dialog-box page-middle-center hidden-xs">\
            <div id="dialog_middle_center_header_container" class="container-fluid">\
                <div id="dialog_middle_center_header_row" class="row navbar">\
                    <div id="dialog_middle_center_header_left" class="col-lg-2 col-md-2 col-sm-2 col-xs-2">\
                    </div>\
                    <div id="dialog_middle_center_header_middle" class="col-lg-8 col-md-8 col-sm-8 col-xs-8">\
                        <div id="dialog_middle_center_header_title" class="navbar-title-24 navbar-center"></div>\
                    </div>\
                    <div id="dialog_middle_center_header_right" class="col-lg-2 col-md-2 col-sm-2 col-xs-2">\
                        <div id="dialog_middle_center_header_close" class="navbar-title-24 navbar-end">\
                            <a href="javascript:void(0)" id="dialog_middle_center_header_close_button" title="Close Button" class="icon-close font-sm float-middle"></a>\
                        </div>\
                    </div>\
                </div>\
            </div>\
            <div id="dialog_middle_center_content_container" class="container-fluid">\
            </div>\
        </div>'
var mobile_dialog_html='\
        <div id="dialog_full_page" class="dialog-box page-overlay-100 dialog-full-page hidden-lg hidden-md hidden-sm">\
            <div id="dialog_full_page_header_container" class="container-fluid">\
                <div id="dialog_full_page_header_row" class="row navbar">\
                    <div id="dialog_full_page_header_left" class="col-lg-2 col-md-2 col-sm-2 col-xs-2">\
                    </div>\
                    <div id="dialog_full_page_header_middle" class="col-lg-8 col-md-8 col-sm-8 col-xs-8">\
                        <div id="dialog_full_page_header_title" class="navbar-title-24 navbar-center"></div>\
                    </div>\
                    <div id="dialog_full_page_header_right" class="col-lg-2 col-md-2 col-sm-2 col-xs-2">\
                        <div id="dialog_full_page_header_close" class="navbar-title-24 navbar-end">\
                            <a href="javascript:void(0)" id="dialog_full_page_header_close_button" title="Close Button" class="icon-close font-sm float-middle"></a>\
                        </div>\
                    </div>\
                </div>\
            </div>\
            <div id="dialog_full_page_content_container" class="container-fluid">\
            </div>\
        </div>'
if($(desktop_dialog_id).length){$(desktop_dialog_id).remove();};if($(mobile_dialog_id).length){$(mobile_dialog_id).remove();};$(backdrop_dialog_id).show();$('body').append(desktop_dialog_html);$('body').append(mobile_dialog_html);$(desktop_dialog_title_id).text(dialog_dict['dialog_title']);$(mobile_dialog_title_id).text(dialog_dict['dialog_title']);$(desktop_dialog_content_id).html(dialog_dict['dialog_content']);$(mobile_dialog_content_id).html(dialog_dict['dialog_content']);$(mobile_dialog_links).click(function(){$(backdrop_dialog_id).hide();$(mobile_dialog_id).remove();$(desktop_dialog_id).remove();});$(desktop_dialog_links).click(function(){$(backdrop_dialog_id).hide();$(mobile_dialog_id).remove();$(desktop_dialog_id).remove();});$(backdrop_dialog_id).click(function(){$(backdrop_dialog_id).hide();$(mobile_dialog_id).remove();$(desktop_dialog_id).remove();});}
function successConstructor(response){methodConstructor(response);}
function errorConstructor(response,exception){var response_code=response.status
try{var response_body=JSON.parse(response.responseText)}catch(e){var response_body={}}
var message_content='Errr! '
if(response_code===0){message_content+='No connection. Check network settings.'}else if(response_code==404){message_content+='Page not found. [404]'}else if(response_code==500){message_content+='Internal Server Error [500].'}else if(exception==='timeout'){message_content+='Request timeout.'}else if(exception==='abort'){message_content+='Request aborted.'}
console.log(message_content);}
function methodConstructor(response_kwargs){input_schema={'schema':{'dt':0,'id':'','code':0,'methods':[]}}
response_dict=input_schema.schema
unpackKwargs(response_kwargs,response_dict,'methodConstructor')
if(response_dict['methods']){var console_message='error constructing method '
for(var i=0;i<response_dict['methods'].length;i++){try{var _func_name=response_dict['methods'][i]['function']
var _global_func=window[_func_name]
if('kwargs'in response_dict['methods'][i]){var _func_args=response_dict['methods'][i]['kwargs'];if(typeof(_func_args)==='object'){_global_func(_func_args);}else{_global_func();};}else{_global_func();};}catch(e){console_message+=response_dict['methods'][i]
console.log(console_message);};}}}
function stringRequest(request_string){context_kwargs={'element_selector':'meta[name=lab-context]','context_array':[request_string],'array_upsert':true}
updateContext(context_kwargs);context_data=$('meta[name=lab-context]').data()
request_dict={'request_url':'/web','request_body':{'details':{'string':request_string},'context':{'context_properties':context_data.context_map,'context_history':context_data.context_array}}}
request_dict['request_success']=successConstructor
request_dict['request_error']=errorConstructor
jsonRequest(request_dict);}
function jsonRequest(request_kwargs){function _success_function(response){console.log('Request Successful.')};function _error_function(response,exception){console.log('Request Failed.')};function _wait_function(){console.log('Waiting...')};request_dict={'request_url':'/web','request_body':{'details':{},'context':{}},'request_success':_success_function,'request_error':_error_function,'request_wait':_wait_function,'request_headers':{}}
unpackKwargs(request_kwargs,request_dict,'jsonRequest');var request_data=JSON.stringify(request_dict['request_body'])
request_dict['request_headers']['X-Timestamp']=($.now()/1000)
try{var csrf_token=$('meta[name=csrf-token]').attr('content')}catch(e){var csrf_token=null};if(csrf_token){request_dict['request_headers']["X-CSRFToken"]=csrf_token};var ajax_map={method:'POST',timeout:12000,headers:{},url:request_dict['request_url'],data:request_data,contentType:'application/json',success:request_dict['request_success'],error:request_dict['request_error']}
for(var key in request_dict['request_headers']){ajax_map['headers'][key]=request_dict['request_headers'][key]};$.ajax(ajax_map);request_dict['request_wait']();}
function updateContext(context_kwargs){input_schema={'schema':{'element_selector':'meta[name=lab-context]','context_array':['strings'],'context_map':{},'array_upsert':true,'map_upsert':true},'components':{'.context_map':{'extra_fields':true}}}
context_dict=input_schema.schema
unpackKwargs(context_kwargs,context_dict,'updateContext')
element_selector=$(context_dict.element_selector)
context_data=element_selector.data()
if(!Object.keys(context_data).length){context_data={'context_array':[],'context_map':{}}}
if(context_dict.context_array.length){if(context_dict.array_upsert){for(var i=0;i<context_dict.context_array.length;i++){if(context_data.context_array.length>48){context_data.context_array.splice(0,1)}
context_data.context_array.push(context_dict.context_array[i])}}else{context_data.context_array=context_dict.context_array}}
if(Object.keys(context_dict.context_map).length){if(context_dict.map_upsert){for(var key in context_dict.context_map){context_data.context_map[key]=context_dict.context_map[key]}}else{context_data.context_map=context_dict.context_map}}
element_selector.data(context_data)}
function toggleVerified(){input_schema={'schema':{'test':''}}
var visible_ids=$('.id-verified-visible')
var style_property='display: none;'
visible_ids.each(function(){toggleStyle($(this),style_property);});var border_ids=$('.id-verified-border')
border_ids.each(function(){$(this).toggleClass('navbar-border');});}
function itemizedDialog(itemized_kwargs){input_schema={'schema':{'title':'Lab Protocols','description':'How flask bot uses data.','effective_date':'2016.05.30.13.45.55','sections':[{'section_title':'Zero Tracking','section_description':'','section_items':['We do not place any weird cookies, use any trackers or allow third parties services to collect data about you from us.']}]},'metadata':{'example_statements':['display lab protocols information']}}
itemized_dict=input_schema.schema
unpackKwargs(itemized_kwargs,itemized_dict,'itemizedDialog')
var title_text=itemized_dict.title
var div_id=title_text.toLowerCase().replace(' ','_');var div_title=itemized_dict.description;var div_class='font-mini small text-left';var content_html='<div id="'+div_id+'_details" class="'+div_class+'" title="'+div_title+'">';var sections_list=itemized_dict.sections;for(var i=0;i<sections_list.length;i++){content_html+='<strong>'+sections_list[i].section_title+'</strong>';content_html+='<ul class="list-padding">';var section_items=sections_list[i].section_items;for(var j=0;j<section_items.length;j++){content_html+='<li>'+section_items[j]+'</li>';};content_html+='</ul>';}
content_html+='</div>';var dialog_kwargs={'dialog_title':title_text,'dialog_content':content_html}
responsiveDialog(dialog_kwargs);}
function blockquoteDialog(blockquote_kwargs){input_schema={'schema':{'title':'Mission','description':'Statement of purpose for the laboratory.','effective_date':'2016.05.31.13.45.55','details':'To make accessible to each individual the resources of the world.','author':'Collective Acuity'},'metadata':{'example_statements':['display a blockquote in the responsive dialog']}}
blockquote_dict=input_schema.schema
unpackKwargs(blockquote_kwargs,blockquote_dict,'blockquoteDialog')
var title_text=blockquote_dict.title;var div_id=title_text.toLowerCase().replace(' ','_');var div_title=blockquote_dict.description;var div_class='font-sm text-left';var content_html='<div id="'+div_id+'_details" class="'+div_class+'" title="'+div_title+'">';var content_text=blockquote_dict.details;var author_text=blockquote_dict.author;content_html+='<blockquote class="blockquote-reverse"><p>'+content_text+'</p><footer>'+author_text+'</footer></blockquote>'
content_html+='</div>';var dialog_kwargs={'dialog_title':title_text,'dialog_content':content_html}
responsiveDialog(dialog_kwargs);}
function contentMiddle(){var middle_html='\
        <div id="content_container" class="container content-container-fill">\
            <div id="content_row" class="row height-100">\
                <div id="content_left" class="col-lg-4 col-md-4 col-sm-3 hidden-xs"></div>\
                <div id="content_middle" class="col-lg-4 col-md-4 col-sm-6 col-xs-12 height-100">\
                    <div id="content_middle_row" class="row vertical-center-40">\
                        <div id="content_middle_column" class="col-lg-12 col-md-12 col-sm-12 col-xs-12"></div>\
                    </div>\
                </div>\
                <div id="content_right" class="col-lg-4 col-md-4 col-sm-3 hidden-xs"></div>\
            </div>\
        </div>'
$('#content').html(middle_html)}
function landingView(){contentMiddle();document.title='Collective Acuity : Welcome to the Laboratory'
content_html='\
        <div id="start_box" class="font-mega text-center line-height-1 padding-vertical-20">\
            <a href="javascript:void(0)" id="chemistry_icon" class="icon-chemistry icon-glow" onclick="testMethod()" title="Click to Get Started"></a>\
        </div>'
$('#content_middle_column').html(content_html)
context_kwargs={'element_selector':'meta[name=lab-context]','context_map':{'current_view':'landing'},'map_upsert':false}
updateContext(context_kwargs)}
function entryView(){document.title='Collective Acuity : Sign-In to the Laboratory'
content_html='\
        <div id="message_exchange" title="Sign-In" class="form-line text-left">\
            <label id="input_prompt" for="input_field" class="form-text"></label>\
            <input id="input_field" type="text" autofocus class="form-text form-control">\
        </div>'
var exchange_id=$('#content_middle_column')
setTimeout(function(){exchange_id.html(content_html);$('#input_prompt').text('What is your Email?')
exchange_id.fadeIn();},600);exchange_id.fadeOut(600);}
function testMethod(){stringRequest('run toggleVerified');}
(function(){if(!$.trim($('#content').html())){landingView();}})();